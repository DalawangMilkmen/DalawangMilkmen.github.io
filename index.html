<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
	<title>Online orders - Dalawang Milkmen</title>
	<meta property="og:url"                content="https://dalawangmilkmen.github.io/online-order/" />
	<meta property="og:type"               content="website" />
	<meta property="og:title"              content="Online orders - Dalawang Milkmen" />
	<meta property="og:description"        content="You can now enjoy your favorite yogurt delivered right to your doorstep!" />
	<meta property="og:image"              content="https://dalawangmilkmen.github.io/online-order/assets/img/dmm/facebook-share.png" />

	<meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' name='viewport' />
    <meta name="viewport" content="width=device-width" />

	<link rel="apple-touch-icon" sizes="76x76" href="assets/img/dmm/dmm-favicon.png" />
	<link rel="icon" type="image/png" href="assets/img/dmm/dmm-favicon.png" />

	<!--     Fonts and icons     -->
	<link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:400,700|Material+Icons" />
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css" />

	<!-- CSS Files -->
	<link href="assets/css/bootstrap.min.css" rel="stylesheet" />
	<link href="assets/css/material-bootstrap-wizard.css" rel="stylesheet" />

	<!-- CSS Just for demo purpose, don't include it in your project -->
	<link href="assets/css/demo.css" rel="stylesheet" />
	<!-- Global site tag (gtag.js) - Google Analytics -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-146506084-1"></script>
	<script>
	  window.dataLayer = window.dataLayer || [];
	  function gtag(){dataLayer.push(arguments);}
	  gtag('js', new Date());

	  gtag('config', 'UA-146506084-1');
	</script>
	<!-- Facebook Pixel Code -->
	<script>
	!function(f,b,e,v,n,t,s)
	{if(f.fbq)return;n=f.fbq=function(){n.callMethod?
	n.callMethod.apply(n,arguments):n.queue.push(arguments)};
	if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
	n.queue=[];t=b.createElement(e);t.async=!0;
	t.src=v;s=b.getElementsByTagName(e)[0];
	s.parentNode.insertBefore(t,s)}(window,document,'script',
	'https://connect.facebook.net/en_US/fbevents.js');
	 fbq('init', '2426810227642657');
	fbq('track', 'PageView');
	</script>
	<noscript>
	 <img height="1" width="1"
	src="https://www.facebook.com/tr?id=2426810227642657&ev=PageView
	&noscript=1"/>
	</noscript>
	<!-- End Facebook Pixel Code -->
	<!-- One signal script -->
	<script src="https://cdn.onesignal.com/sdks/OneSignalSDK.js" async=""></script>
	<script src="https://cdn.onesignal.com/sdks/OneSignalSDK.js" async=""></script>
	<script>
	var OneSignal = window.OneSignal || [];
	OneSignal.push(function() {
		OneSignal.init({
			appId: "f1570eb8-769f-484d-b98d-6172510bd6f8",
		});
	});
	</script>
</head>

<body>
	<style media="screen">
		.image-container:before{
			opacity: .4!important;
		}
		.no_margin{
			margin-bottom: 0;
			margin-top: -20px;
			text-align: center;
		}
		.title_no_margin{
			margin: 0;
			text-align: center;
			color: #fff
		}
		.notification_reorder{
			height:0px;
			margin-top: 0;
			background-color: #7B9DCF;
			box-shadow: 0 1px 3px 0 rgba(0,0,0,.1), 0 1px 2px 0 rgba(0,0,0,.06);
		}
		.made-with-mk {
		    width: 100px;
		    height: 50px;
		    display: block;
		    position: fixed;
		    z-index: 555;
		    top: 40px;
		    right: 40px;
		    border-radius: 30px;
		    background-color: #7B9DCF;
		    border: 1px solid rgba(255, 255, 255, 0.15);
		    color: #FFFFFF;
		    cursor: pointer;
		    padding: 10px 12px;
		    white-space: nowrap;
		    overflow: hidden;
		    -webkit-transition: 0.55s cubic-bezier(0.6, 0, 0.4, 1);
		    -moz-transition: 0.55s cubic-bezier(0.6, 0, 0.4, 1);
		    -o-transition: 0.55s cubic-bezier(0.6, 0, 0.4, 1);
		    transition: 0.55s cubic-bezier(0.6, 0, 0.4, 1);
		}
	</style>
	<div class="notification_reorder">
		<div class="">

		<h5 class="title_no_margin">
			Hello <span id="rnam" ></span>

		</h5>
	</div>

	</div>
	<div class="image-container set-full-height" style="background-image: url('assets/img/dmm/background-dmm.jpg')">
	    <!--   Creative Tim Branding   -->
	    <a href="https://www.facebook.com/DalawangMilkmen/" target="_blank">
	         <div class="logo-container">
	            <div class="">
	                <img style='height:80px;' src="assets/img/dmm/dmm-logo-outline.png">
	            </div>
	            <!-- <div class="brand">
	                Dalawang Milkmen
	            </div> -->
	        </div>

	    </a>

		<!--  Made With Material Kit  -->
		<!-- <a href="http://demos.creative-tim.com/material-kit/index.html?ref=material-bootstrap-wizard" class="made-with-mk">
			<div class="brand">Re-order</div>
			<div class="made-with">Made with <strong>Material Kit</strong></div>
		</a> -->

	    <!--   Big container   -->
	    <div class="container">
	        <div class="row">
		        <div class="col-sm-8 col-sm-offset-2">
		            <!--      Wizard container        -->
		            <div class="wizard-container">
		                <div class="card wizard-card" data-color="blue" id="wizard">
			                <form action="" method="">
			                <!--        You can switch " data-color="rose" "  with one of the next bright colors: "blue", "green", "orange", "purple"        -->

		                    	<div class="wizard-header">
		                        	<h3 class="wizard-title">
		                        		Dalawang Milkmen Deliveries
		                        	</h3>
									<h5>🗓 Next delivery date: <strong><span style='' id='nextDelivery'></span></strong></h5>
									<p style="text-align:center" id="tagline">

									</p>
		                    	</div>
								<div class="wizard-navigation">
									<ul>
			                            <li><a href="#order" data-toggle="tab">Your Order </a></li>
			                            <li><a href="#contact" data-toggle="tab">Contact</a></li>
			                            <li><a href="#delivery" data-toggle="tab">Delivery Info</a></li>
			                            <li><a href="#summary" data-toggle="tab">Summary</a></li>
			                        </ul>
								</div>

		                        <div class="tab-content">
		                            <div class="tab-pane" id="order">
		                            	<div class="row">
		                                	<div class="col-sm-12">
		                                    	<h4 class="info-text"> What would you like to order ? <br>
													<span style="font-size:12px;">Minimum order 3 Yogurts</span>
												</h4>

		                                	</div>
		                                	<div class="col-sm-2 col-sm-offset-1">
												<img src="assets/img/dmm/20190103-Dalawang-mango.jpg" style="width:100px;height:auto;"  alt="" />
												<p class="no_margin" >
												 ₱ <span id="mp"></span>
												</p>
		                                    	<div class="form-group label-floating">
		                                        	<label class="control-label">Mango</label>
													<select id='stock-Mango' class="form-control">
		                                            	<option disabled="" selected=""></option>
		                                            	<option>0</option>

		                                        	</select>
		                                    	</div>
		                                	</div>
		                                	<div class="col-sm-2">
												<img src="assets/img/dmm/20190103-Dalawang-raspberry.jpg" style="width:100px;height:auto;"  alt="" />
												<p class="no_margin" >
												 ₱ <span id="rp"></span>
												</p>
		                                    	<div class="form-group label-floating">
		                                        	<label class="control-label">Raspberry</label>
													<select id='stock-Raspberry' class="form-control">
		                                            	<option disabled="" selected=""></option>
														<option>0</option>
		                                        	</select>
		                                    	</div>
		                                	</div>
		                                	<div class="col-sm-2">
												<img src="assets/img/dmm/20190103-Dalawang-strawberry.jpg" style="width:100px;height:auto;"  alt="" />
												<p class="no_margin" >
												 ₱ <span id="sp"></span>
												</p>
		                                    	<div class="form-group label-floating">
		                                        	<label class="control-label">Strawberry</label>
													<select id='stock-Strawberry' class="form-control">
		                                            	<option disabled="" selected=""></option>
														<option>0</option>

		                                        	</select>
		                                    	</div>
		                                	</div>
		                                	<div class="col-sm-2">
												<img src="assets/img/dmm/20190103-Dalawang-sweetened.jpg" style="width:100px;height:auto;"  alt="" />
												<p class="no_margin" >
												 ₱ <span id="swp"></span>
												</p>
		                                    	<div class="form-group label-floating">
		                                        	<label class="control-label">Sweetened</label>
													<select id='stock-Sweetened' class="form-control">
		                                            	<option disabled="" selected=""></option>
														<option>0</option>
		                                        	</select>
		                                    	</div>
		                                	</div>
											<div class="col-sm-2">
												<img src="assets/img/dmm/20190103-Dalawang-unsweetened.jpg" style="width:100px;height:auto;"  alt="" />
												<p class="no_margin" >
												 ₱ <span id="up"></span>
												</p>
		                                    	<div class="form-group label-floating">
		                                        	<label class="control-label">Unsweetened</label>
													<select id='stock-Unsweetened' class="form-control">
		                                            	<option disabled="" selected=""></option>
														<option>0</option>

		                                        	</select>
		                                    	</div>
		                                	</div>

		                            	</div>
										<p style="text-align:center; margin-top:10px" id="bl">

										</p>
		                            </div>
		                            <div class="tab-pane" id="contact">
										<div class="col-sm-12">
											<h4 class="info-text">Your contact details
											</h4>
										</div>

										<div class="row">
  		                                	<div class="col-sm-10 col-sm-offset-1">
  												<div class="input-group">
  													<span class="input-group-addon">
  														<i class="material-icons">face</i>
  													</span>
  													<div class="form-group label-floating">
  			                                          <label class="control-label">First Name <small>(required)</small></label>
  			                                          <input name="firstname" type="text" class="form-control">
  			                                        </div>
  												</div>

  												<div class="input-group">
  													<span class="input-group-addon">
  														<i class="material-icons">record_voice_over</i>
  													</span>
  													<div class="form-group label-floating">
  													  <label class="control-label">Last Name <small>(required)</small></label>
  													  <input name="lastname" type="text" class="form-control">
  													</div>
  												</div>
  		                                	</div>
  		                                	<div class="col-sm-10 col-sm-offset-1">
  												<div class="input-group">
  													<span class="input-group-addon">
  														<i class="material-icons">email</i>
  													</span>
  													<div class="form-group label-floating">
  			                                            <label class="control-label">Email <small>(required)</small></label>
  			                                            <input name="email" type="email" class="form-control">
  			                                        </div>
  												</div>
  		                                	</div>
  		                                	<div class="col-sm-10 col-sm-offset-1">
  												<div class="input-group">
  													<span class="input-group-addon">
  														<i class="material-icons">local_phone</i>
  													</span>
  													<div class="form-group label-floating">
  			                                            <label class="control-label">Phone <small>(required)</small></label>
  			                                            <input name="phone" type="text" class="form-control">
  			                                        </div>
  												</div>
  		                                	</div>
  		                            	</div>
		                            </div>
		                            <div class="tab-pane" id="delivery">
		                                <h4 class="info-text">At what time would you like to be delivered on <span id='datedelivery'></span></h4>
		                                <div class="row">
		                                    <div class="col-sm-5 col-sm-offset-1">
		                                      <div class="form-group label-floating">
		                                        	<label class="control-label">Delivery Time <small>(required)</small></label>
		                                        	<select id='deliveryTime'  name="deliveryTime"  class="form-control">
		                                            	<option disabled="" selected=""></option>
		                                            	<!-- <option>9am to 11am</option>
		                                            	<option>11am to 1pm </option> -->
		                                            	<!-- <option>1pm to 3pm </option>
		                                            	<option>3pm to 5pm </option>
		                                            	<option>5pm to 7pm </option>
		                                            	<option>7pm to 8pm </option> -->
		                                        	</select>
		                                    	</div>
		                                    </div>
		                                    <div class="col-sm-5">
		                                      <div class="form-group label-floating">
		                                        	<label class="control-label">District name <small>(required)</small></label>
		                                        	<select id='district' name="district"  class="form-control">
		                                            	<option disabled=""></option>
		                                            	<!-- <option>Makati</option>
		                                            	<option>BGC</option> -->
		                                        	</select>
		                                    	</div>
		                                    </div>
		                                    <!-- <div class="col-sm-5">
		                                    	<div class="form-group label-floating">
		                                        	<label class="control-label">Is air conditioning included ?</label>
		                                        	<select class="form-control">
		                                            	<option disabled="" selected=""></option>
		                                            	<option>Yes</option>
		                                            	<option>No </option>
		                                        	</select>
		                                    	</div>
		                                    </div> -->
		                                    <div class="col-sm-5 col-sm-offset-1">
		                                    	<div class="form-group label-floating">
		                                        	<label class="control-label">Barangay name  <small>(required)</small></label>
													<input type="text" id="barangay" name="barangay" class="form-control" value="">
		                                        	<!-- <select id="barangay" name="barangay" class="form-control">
		                                        	<!-- </select> -->
		                                    	</div>
		                                    </div>
		                                    <div class="col-sm-5">
		                                    	<div class="form-group label-floating">
		                                        	<label class="control-label">Street <small>(required)</small></label>
													<input name="street" type="text" class="form-control">
		                                    	</div>
		                                    	<!-- <div class="form-group label-floating">
		                                        	<label class="control-label">House Number/Building Name</label>
		                                        	<select class="form-control">
		                                            	<option disabled="" selected=""></option>
		                                            	<option>Yes</option>
		                                            	<option>No </option>
		                                        	</select>
		                                    	</div> -->
	                                    	</div>
		                                    <div class="col-sm-5 col-sm-offset-1">
		                                    	<div class="form-group label-floating">
		                                        	<label class="control-label">House Number / Building Name</label>
													<input name="housenb" type="text" class="form-control">
		                                    	</div>
	                                    	</div>
		                                    <div class="col-sm-5 ">
		                                    	<div class="form-group label-floating">
		                                        	<label class="control-label">Floor / Unit / Room# <small>(optional)</small></label>
													<input name="floor" type="text" class="form-control">
		                                    	</div>
	                                    	</div>
		                                </div>
		                            </div>
		                            <div class="tab-pane" id="summary">
		                                <div class="row">
		                                    <!-- <h4 class="info-text"> Drop us a small description. </h4> -->
		                                    <div class="col-sm-4 col-sm-offset-1">
												<div class="form-group label-floating">
													<!-- <label class="control-label">Dalawang Milkmen Engagement</label> -->
													<p class="description">Good news our glass jars are endlessly recyclable ♻️ and we give 15₱ per returned jar & lid!</p>
												</div>
		                                        <div class="form-group label-floating">
		                                            <label class="control-label"># of jars to return</label>
		                                            <input id='jarrenb' class="form-control" type="number" name="jarre" value="">

		                                        </div>
		                                    </div>
		                                    <div class="col-sm-4">
												<label class="control-label">Number of yogurt ordered</label>
												<ul style="list-style: none;padding-left: 14px;">
													<li style="color:#DEAA4E">
														<span style="float:left" >Mango</span>
														<span id="summary-Mango">(x 0)</span>
														<span id="smp"style="float:right">0</span>
													</li>
													<li style="color:#F17A92">
														<span style="float:left">Strawberry</span>
														<span id="summary-Strawberry">(x 0)</span>
														<span id="ssp"style="float:right">0</span>
													 </li>
													<li style="color:#D2373E">
														<span style="float:left">Raspberry</span>
														<span id="summary-Raspberry">(x 0)</span>
														<span id="srp"style="float:right">0</span>
													</li>
													<li style="color:#7B9DCF">
														<span style="float:left">Unsweetened</span>
														<span id="summary-Unsweetened">(x 0)</span>
														<span id="sup"style="float:right">0</span>
													</li>
													<li style="color:#99B9DD">
														<span style="float:left">Sweetened </span>
														<span id="summary-Sweetened">(x 0)</span>
														<span id="sswp"style="float:right">0</span>
													</li>
													<li>
														<span style="float:left">Returned Jars </span>
														<span id="summary-Jarre">(x 0)</span>
														<span id="sjp"style="float:right">0</span>

													</li>
												</ul>
												<hr>
												<ul style="list-style: none;padding-left: 14px;">
													<li>Delivery fee (₱) : <span id='summay-deliveryfee' style="float:right">50</span></li>
													<li><strong>Total Price (₱) : <span id='summay-Price' style="float:right">0</span></strong></li>
												</ul>



		                                    </div>
		                                    <div class="col-sm-3">
		                                    	<div class="form-group label-floating">
		                                            <label class="control-label">Payment method</label>
		                                            <p class="description">"Cash on delivery"</p>
													<!-- <label class="control-label">Payment methode</label>
													<input id='bill' class="form-control" type="text" name="bill" value=""> -->
		                                        </div>
		                                    	<div class="form-group label-floating">
		                                            <!-- <h5 class="">Payment methode</h5>
		                                            <p class="description">"Cash on delivery"</p> -->
													<label class="control-label">Change for (₱) :</label>
													<input id='bill' class="form-control" type="text" name="bill" value="">
		                                        </div>
		                                    </div>
		                                </div>
										<p id='deliveryFree' style="text-align:center;">

										</p>
		                            </div>
		                        </div>
		                        <div class="wizard-footer">
	                            	<div class="pull-right">
	                                    <input type='button' class='btn btn-next btn-fill btn-info btn-wd' id='next' name='next' value='Next' />
	                                    <input id='send' type='button' class='btn btn-finish btn-fill btn-info btn-wd' name='finish' value='Send Order' />
	                                    <input id='loading' type='button' class='btn btn-fill btn-warning btn-wd' style="display:none;"  value='Your order is being processed' />
	                                </div>
	                                <div class="pull-left">
	                                    <input id='previous' type='button' class='btn btn-previous btn-fill btn-default btn-wd' name='previous' value='Previous' />
	                                </div>
		                            <div class="clearfix"></div>
		                        </div>
			                </form>
		                </div>
						<div class="order-confirm" style="display:none;text-align:center;">
							<img src="assets/img/dmm/dmm-logo-outline.png" style='height:200px' alt="" />

							<h2 style="color:#fff;">Thank you, your order has been confirmed.</h2>
							<h4 style="color:#fff;">You will receive a confirmation email soon.</h4>
							<br><br>
							<h4 style="color:#fff;">Spread the <i class="fa fa-heart heart"></i>  with your friends</h4>
							<div class="display:inline-block">
								<iframe src="https://www.facebook.com/plugins/share_button.php?href=https%3A%2F%2Fdalawangmilkmen.github.io%2Fonline-order%2F&layout=button&size=large&mobile_iframe=true&appId=668328976558876&width=89&height=28" width="89" height="28" style="border:none;overflow:hidden" scrolling="no" frameborder="0" allowTransparency="true" allow="encrypted-media"></iframe>
							</div>
							<h4 style="color:#fff;">&</h4>
							<h4 style="color:#fff;">Stay in touch 👨‍🌾👨‍🌾🥛🚛</h4>
							<div class="display:inline-block">
								<a href="#" style="color:#4469B0;padding:10px;font-size: 20px;" target="_blank"><i class="fa fa-facebook"></i></a>
								<a href="https://www.instagram.com/dalawang_milkmen/" style="color:#D35169;padding:10px;font-size: 20px;" target="_blank"><i class="fa fa-instagram"></i></a>
								<!-- <a href="#" style="color:#fff;padding:10px;font-size: 20px;" target="_blank"><i class="fa fa-envelope"></i></a> -->
							</div>


						</div>
		            </div> <!-- wizard container -->
		        </div>
	        </div> <!-- row -->
	    </div> <!--  big container -->

	    <div class="footer">
	        <!-- <div class="container text-center">
	             Freshly made with <i class="fa fa-heart heart"></i> in Lipa
	        </div> -->
	        <div class="container text-center">
	             For exceptional orders <a href="https://www.messenger.com/t/DalawangMilkmen" target="_blank">contact us.</a>
	        </div>
	    </div>
	</div>

</body>
	<!--   Core JS Files   -->
	<script src="assets/js/jquery-2.2.4.min.js" type="text/javascript"></script>
	<script src="assets/js/bootstrap.min.js" type="text/javascript"></script>
	<script src="assets/js/jquery.bootstrap.js" type="text/javascript"></script>

	<!--  Plugin for the Wizard -->
	<script src="assets/js/material-bootstrap-wizard.js"></script>

	<!--  More information about jquery.validate here: http://jqueryvalidation.org/	 -->
	<script src="assets/js/jquery.validate.min.js"></script>
	<script type="text/javascript">
	document.addEventListener("DOMContentLoaded", function(e) {


		if (document.documentMode || /Edge/.test(navigator.userAgent)) {
		    alert("Sorry our orders doesn't work on Edge and Internet Explorer" );
		}

		// init variables
		var stock;
		var deliveryDate;
		var deliveryPrice;
		var yogourtPrice;
		var mangoPrice;
		var strawberryPrice;
		var raspberryPrice;
		var strawberryPrice;
		var sweetenedPrice;
		var unsweetenedPrice;
		var jarrePrice;
		var mango = '0';
		var raspberry = '0';
		var strawberry = '0';
		var sweetened = '0';
		var unsweetened = '0';
		var jarre = 0;
		var totalProduct;
		var totalPrice;
		// send order
		var send = document.getElementById('send');
		var next = document.getElementById('next');
		var previous = document.getElementById('previous');
		var loading = document.getElementById('loading');
		// Price placeholders
		var mp = document.getElementById('mp');
		var rp = document.getElementById('rp');
		var sp = document.getElementById('sp');
		var swp = document.getElementById('swp');
		var up = document.getElementById('up');
		var bl = document.getElementById('bl');
		var deliveryTime = document.getElementById('deliveryTime');
		var district = document.getElementById('district');
		var barangayInupt = document.getElementById('barangay');
		var apiKey = "keyy91JVw4nn9lwqH";
		var baseid = "appWeyp3UlQHHV5By";


		var setCustomerInfo = function(lastorder) {
			console.log(lastorder.fields['First Name']);
			jQuery('#contact>div>h4').html('Hello '+lastorder.fields['First Name']+',good to see you again<br><span style="font-size:12px;">We filled up you previous information, to make your life easier</span>')
			document.querySelectorAll('input[name$="firstname"]')[0].value = lastorder.fields['First Name'] ;
			document.querySelectorAll('input[name$="lastname"]')[0].value = lastorder.fields['Last Name'] ;
			document.querySelectorAll('input[name$="email"]')[0].value= lastorder.fields['Email'] ;
			document.querySelectorAll('input[name$="phone"]')[0].value= lastorder.fields['Phone'] ;
			// var deliveryTime = deliveryTimeselect.options[deliveryTimeselect.selectedIndex].value;
			// // var barangayselect = document.getElementById("barangay").value;
			var barangay = document.querySelectorAll('input[name$="barangay"]')[0].value= lastorder.fields['Barangay'] ;
			console.log(jQuery('#district option[value="'+lastorder.fields['District']+'"]'));
			jQuery('#district').append('<option value="'+lastorder.fields['deliveryfee']+'" selected>'+lastorder.fields['District']+'</option>');
			// jQuery('#district').remove('<option value="'+lastorder.fields['deliveryfee']+'" >'+lastorder.fields['District']+'</option>');
			// districtselect.options.text;
			document.querySelectorAll('input[name$="street"]')[0].value = lastorder.fields['Street'] ;
			document.querySelectorAll('input[name$="housenb"]')[0].value= lastorder.fields['House number'] ;
			// document.querySelectorAll('input[name$="bill"]')[0].value= lastorder.fields['Phone'] ;
			document.querySelectorAll('input[name$="floor"]')[0].value= lastorder.fields['Floor / Unit / Room#'] ;

			$(".form-group").removeClass("is-empty");


		};


		var initStock = function(product) {
			var stock = document.getElementById('stock-'+product.fields.Name)
			// console.log(stock);
			if (product.fields.stock > 15) {
				for (var i = 1; i < 16; i++) {
					this.option = document.createElement('option')
					this.option.innerText = i;
					this.option.value = i;
					stock.append(this.option)
				}
			}else {
				// console.log( product.fields.stock);
				for (var i = 0; i < product.fields.stock; i++) {
					this.option = document.createElement('option')
					this.option.innerText = i +1;
					this.option.value = i +1;
					stock.append(this.option)
				}
			}
		}
		var initTime = function(time) {

			this.option = document.createElement('option')
			this.option.innerText = time.fields.horraire;
			deliveryTime.append(this.option)

		}

		var initCities = function(city) {

			this.option = document.createElement('option')
			this.option.innerText = city.fields.Name;
			this.option.setAttribute('value',city.fields.DeliveryFees);
			district.append(this.option)

		}
		// var initBarangay = function(barangay) {
		// //
		// 	this.option = document.createElement('option')
		// 	this.option.innerText = barangay.fields.Name;
		// 	this.option.setAttribute('value',barangay.fields.DeliveryFees);
		// 	barangaySelect.append(this.option)
		//
		//
		// }

		$('#district').on('change',function(){
	        var optionValue = $(this).val();
			deliveryPrice = optionValue;
			// console.log(deliveryPrice);
			calculateTotal();
			$('#summay-deliveryfee').text(deliveryPrice);
    	});



		var calculateTotal = function() {
			totalProduct = parseFloat(unsweetened)* unsweetenedPrice+ parseFloat(mango)*mangoPrice+ parseFloat(raspberry)*raspberryPrice + parseFloat(strawberry)*strawberryPrice + parseFloat(sweetened)*sweetenedPrice;

			console.log( 'prix total :', totalProduct);
			// console.log(parseFloat(unsweetened)* unsweetenedPrice);
			// console.log(parseFloat(mango)*mangoPrice);
			// console.log(parseFloat(raspberry)*raspberryPrice);
			// console.log(parseFloat(strawberry)*strawberryPrice);
			// console.log(parseFloat(sweetened) *sweetenedPrice);
			// if (totalProduct < 7) {
			// 	$('#summay-deliveryfee').text('50');
			// 	$('#deliveryFree').text('👍 Order 7 or more yogurts to have a free delivery');
			//
			// 	totalPrice = (totalProduct * yogourtPrice) + parseFloat(deliveryPrice) - (jarre*jarrePrice)
			// }else {
				// $('#summay-deliveryfee').text('free');
				$('#deliveryFree').text('');
				totalPrice = totalProduct  - (jarre*jarrePrice);
				console.log('total delivery fee',deliveryPrice);
				totalPrice =  totalPrice +  parseFloat(deliveryPrice);

			// }
			// console.log(totalPrice);
			$('#summay-Price').text(totalPrice)

		}

		$('#stock-Mango').on('change', function() {
			// console.log(this.value);
			mango = this.value;
			$('#summary-Mango').text(' ( x '+this.value+')');
			$('#smp').text( parseFloat(this.value) * mangoPrice);
			calculateTotal();

		});
		$('#stock-Raspberry').on('change', function() {
			raspberry = this.value;
			$('#summary-Raspberry').text(' ( x '+this.value+')');
			$('#srp').text( parseFloat(this.value) * raspberryPrice);

			calculateTotal();
		});
		$('#stock-Strawberry').on('change', function() {
			strawberry = this.value;
			$('#summary-Strawberry').text(' ( x '+this.value+')');
			$('#ssp').text( parseFloat(this.value) * strawberryPrice);
			calculateTotal();
		});
		$('#stock-Unsweetened').on('change', function() {
			unsweetened = this.value;
			$('#summary-Unsweetened').text(' ( x '+this.value+')');
			$('#sup').text( parseFloat(this.value) * unsweetenedPrice);
			calculateTotal();
		});
		$('#stock-Sweetened').on('change', function() {
			sweetened = this.value;
			$('#summary-Sweetened').text(' ( x '+this.value+')');
			$('#sswp').text( parseFloat(this.value) * sweetenedPrice);
			calculateTotal();
		});
		$('#jarrenb').on('change', function() {
			jarre = this.value;
			$('#summary-Jarre').text(' ( x '+this.value+')');
			$('#sjp').text('-' + parseFloat(this.value) * jarrePrice);
			calculateTotal();
		});

		next.addEventListener('click',function (e) {
			if (totalProduct < 240) {
				alert('Sorry, the minimum order is 3 yogurts ')
				e.preventDefault();
				$('#previous').click();
			}
		});

		send.addEventListener('click',function (e) {
			if (totalProduct < 240) {
				alert('Sorry, the minimum order is 3 yogurts ')
			}else {
				send.style.display = 'none';
				loading.style.display = 'block';
				sendOrder();

			}
		});


		var sendOrder = function(lastorder) {
			if(lastorder){

			}else {

			// Customer info
			var firstname = document.querySelectorAll('input[name$="firstname"]')[0].value;
			var lastname = document.querySelectorAll('input[name$="lastname"]')[0].value;
			var email = document.querySelectorAll('input[name$="email"]')[0].value;
			var phone = document.querySelectorAll('input[name$="phone"]')[0].value;

			// Delivery Info

			var deliveryTimeselect = document.getElementById("deliveryTime");
			var deliveryTime = deliveryTimeselect.options[deliveryTimeselect.selectedIndex].value;
			// var barangayselect = document.getElementById("barangay").value;
			var barangay = document.querySelectorAll('input[name$="barangay"]')[0].value;
			var districtselect = document.getElementById("district");
			var district = districtselect.options[districtselect.selectedIndex].text;
			var street = document.querySelectorAll('input[name$="street"]')[0].value;
			var housenb = document.querySelectorAll('input[name$="housenb"]')[0].value;
			var bill = document.querySelectorAll('input[name$="bill"]')[0].value;
			var floor = document.querySelectorAll('input[name$="floor"]')[0].value;

		}
		var order = {"fields":
						{
						    "First Name": firstname,
						    "Total Amount": parseFloat(totalPrice),
						    "Last Name": lastname,
						    "Mango": parseFloat(mango),
						    "Raspberry": parseFloat(raspberry),
						    "Sweetened": parseFloat(sweetened),
						    "Strawberry": parseFloat(strawberry),
						    "Email": email,
						    "Phone": phone,
						    "Unsweetened": parseFloat(unsweetened),
						    "Jarre to return": parseFloat(jarre),
						    "Delivery Time": deliveryTime,
						    "District": district,
						    "Barangay": barangay,
						    "Street": street,
						    "House number": housenb,
							"Delivery Date": deliveryDate,
							// "Change for": bill,
							"Floor / Unit / Room#": floor ,
							"deliveryfee" : deliveryPrice,
					  	}
					}

			// console.log(order.fields.Mango);
			SaveOrder(order);
			SaveLocalStorage(order)



		}

		SaveOrder = (order) =>{
			console.log(order);


			var url = 'https://api.airtable.com/v0/'+baseid+'/Customer'


			fetch(url,{
			   method: 'POST',
			   headers: new Headers({
				 'Authorization': 'Bearer '+apiKey,
				 'Content-Type': 'application/json',
			}),
			body: JSON.stringify(order)
			})
			.then((response) => response.json())
			.then((product) => {

				console.log(product);
				console.log(product.fields.Mango);

				if (product.fields.Mango > 0) {
					UdpateStock(stock[0],product.fields.Mango);
				}
				if (product.fields.Strawberry > 0) {
					UdpateStock(stock[1],product.fields.Strawberry);
				}
				if (product.fields.Raspberry > 0) {
					UdpateStock(stock[2],product.fields.Raspberry);
				}
				if (product.fields.Sweetened > 0) {
					UdpateStock(stock[3],product.fields.Sweetened);
				}
				if (product.fields.Unsweetened > 0) {
					UdpateStock(stock[4],product.fields.Unsweetened);
				}

				setTimeout(function () {
					document.getElementsByClassName('wizard-card')[0].style.display = 'none';
					document.getElementsByClassName('footer')[0].style.display = 'none';
					document.getElementsByClassName('order-confirm')[0].style.display = 'block';


				}, 1000);


			})
			.catch((error) => {
				console.error(error);
			});


		}

		SaveLocalStorage = (order) =>{
			localStorage.setItem('lastorder', JSON.stringify(order));

		};

		UdpateStock = (yogourt,amount) =>{
			yogourt.fields.stock = yogourt.fields.stock - amount;

			var url = 'https://api.airtable.com/v0/'+baseid+'/Stock/'+yogourt.id;
			console.log(yogourt);
			console.log(yogourt.fields);
			console.log(url);

			var yogourtUpdate = {
			  	"fields": yogourt.fields
			 }

			fetch(url,{
			   method: 'PUT',
			   headers: new Headers({
				 'Authorization': 'Bearer '+apiKey ,
				 'Content-Type': 'application/json',
			}),
			body: JSON.stringify(yogourtUpdate)
			})
			.then((response) => response.json())
			.then((product) => {
				console.log(product)

			})
			.catch((error) => {
				console.error(error);
			});

		}

		fetchProduct = () =>{


			let url = 'https://api.airtable.com/v0/'+baseid+'/Stock?maxRecords=10&view=Grid%20view'


			fetch(url,{
			   method: 'get',
			   headers: new Headers({
				 'Authorization': 'Bearer '+apiKey,
			}),
			})
			.then((response) => response.json())
			.then((product) => {
				// console.log(product.records)
				stock = product.records;
				console.log(stock);

				for (var i = 0; i < stock.length; i++) {
					initStock(stock[i]);
				}
			})
			.catch((error) => {
				console.error(error);
			});

		}

		fetchDeliveryTime = () =>{


			let url = 'https://api.airtable.com/v0/'+baseid+'/horraire?maxRecords=10&view=Grid%20view'


			fetch(url,{
			   method: 'get',
			   headers: new Headers({
				 'Authorization': 'Bearer '+apiKey,
			}),
			})
			.then((response) => response.json())
			.then((times) => {
				// console.log(product.records)
				times = times.records;
				console.log(times);

				for (var i = 0; i < times.length; i++) {
					initTime(times[i]);
				}
			})
			.catch((error) => {
				console.error(error);
			});

		}
		fetchCities = () =>{


			let url = 'https://api.airtable.com/v0/'+baseid+'/cities?maxRecords=10&view=Grid%20view'


			fetch(url,{
			   method: 'get',
			   headers: new Headers({
				 'Authorization': 'Bearer '+apiKey,
			}),
			})
			.then((response) => response.json())
			.then((cities) => {
				cities = cities.records;
				console.log(cities);

				for (var i = 0; i < cities.length; i++) {
					initCities(cities[i]);
				}
			})
			.catch((error) => {
				console.error(error);
			});

		}
		// fetchBarangay = () =>{
		// 	let url = 'https://api.airtable.com/v0/'+baseid+'/barangay?maxRecords=200&view=Grid%20view'
		//
		//
		// 	fetch(url,{
		// 	   method: 'get',
		// 	   headers: new Headers({
		// 		 'Authorization': 'Bearer '+apiKey,
		// 	}),
		// 	})
		// 	.then((response) => response.json())
		// 	.then((barangay) => {
		// 		barangay = barangay.records;
		// 		console.log(barangay);
		//
		// 		for (var i = 0; i < barangay.length; i++) {
		// 			// initBarangay(barangay[i]);
		// 		}
		// 	})
		// 	.catch((error) => {
		// 		console.error(error);
		// 	});
		//
		// }
		fetchInfo = () =>{

			let url = 'https://api.airtable.com/v0/'+baseid+'/Info?maxRecords=20&view=Grid%20view'


			fetch(url,{
			   method: 'get',
			   headers: new Headers({
				 'Authorization': 'Bearer '+apiKey,
			}),
			})
			.then((response) => response.json())
			.then((delivery) => {
				console.log('yo');
				console.log(delivery.records)
				// console.log(delivery.records[0].fields.Date);
				document.getElementById('nextDelivery').innerText = delivery.records[0].fields.info;
				document.getElementById('tagline').innerHTML = '<br>'+ delivery.records[9].fields.info;
				document.getElementById('datedelivery').innerText = delivery.records[0].fields.info;
				deliveryDate = delivery.records[0].fields.info;
				yogourtPrice = delivery.records[1].fields.info;
				jarrePrice = delivery.records[2].fields.info;
				deliveryPrice = delivery.records[3].fields.info;
				mangoPrice = delivery.records[4].fields.info;
				strawberryPrice = delivery.records[5].fields.info;
				raspberryPrice = delivery.records[6].fields.info;
				sweetenedPrice = delivery.records[7].fields.info;
				unsweetenedPrice = delivery.records[8].fields.info;

				mp.innerText = mangoPrice;
				rp.innerText = raspberryPrice;
				sp.innerText = strawberryPrice;
				swp.innerText = sweetenedPrice;
				up.innerText = unsweetenedPrice;
				bl.innerHTML = delivery.records[10].fields.info;
				// console.log(unsweetenedPrice ,raspberryPrice, mangoPrice);
				// localStorage.setItem('areas', JSON.stringify(product.records));

				// for (var i = 0; i < stock.length; i++) {
				// 	initStock(stock[i]);
				// }
			})
			.catch((error) => {
				console.error(error);
			});

		}

		fetchProduct();
		fetchInfo();
		fetchCities();
		// fetchBarangay();
		fetchDeliveryTime();
		var lastorder = localStorage.getItem('lastorder');
		if (lastorder) {
			lastorder = JSON.parse(lastorder);
			console.log(lastorder);
			setCustomerInfo(lastorder)
		}



	});
	</script>


</html>
